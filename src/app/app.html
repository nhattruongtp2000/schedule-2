<div class="container">
  <h2>ðŸ“… Schedule (23/1 â†’ 20/2)</h2>

  <!-- Toolbar -->
  <div class="toolbar">
    <button class="btn primary" (click)="exportJson()">
      â¬‡ Export JSON
    </button>

    <label class="btn secondary">
      â¬† Import JSON
      <input
        type="file"
        accept=".json"
        hidden
        (change)="importJson($event)"
      />
    </label>
  </div>

  <!-- Schedule Table -->
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Day</th>
          <th>Date</th>
          <th>Work</th>
          <th>Busy</th>
          <th>Morning</th>
          <th>Afternoon</th>
          <th>Night</th>
        </tr>
      </thead>

      <tbody>
        @for (d of schedule; track d) {
        <tr
          [class.busy-day]="d.isBusy"
          [class.day-off]="!d.isWorkDay"
        >
          <td class="day-name" data-label="Day">
            {{ d.dayName }}
          </td>

          <td class="date" data-label="Date">
            {{ d.date }}
          </td>

          <!-- Work Day -->
          <td class="center" data-label="Work">
            <input
              type="checkbox"
              [(ngModel)]="d.isWorkDay"
              (change)="saveToLocalStorage()"
            />
          </td>

          <!-- Busy Day -->
          <td class="center" data-label="Busy">
            <input
              type="checkbox"
              [(ngModel)]="d.isBusy"
              (change)="saveToLocalStorage()"
            />
          </td>

          <!-- Morning -->
          <td data-label="Morning">
            <input
              type="text"
              placeholder="Morning..."
              [(ngModel)]="d.morning"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>

          <!-- Afternoon -->
          <td data-label="Afternoon">
            <input
              type="text"
              placeholder="Afternoon..."
              [(ngModel)]="d.afternoon"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>

          <!-- Night -->
          <td data-label="Night">
            <input
              type="text"
              placeholder="Night..."
              [(ngModel)]="d.night"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
