<div class="container">
  <h2>ðŸ“… Schedule (23/1 â†’ 20/2)</h2>

  <!-- Toolbar -->
  <div class="toolbar">
    <button class="btn primary" (click)="exportJson()">â¬‡ Export JSON</button>

    <label class="btn secondary">
      â¬† Import JSON
      <input type="file" accept=".json" hidden (change)="importJson($event)" />
    </label>
  </div>
  <!-- Schedule Table -->
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Day</th>
          <th>Date</th>
          <th>Work</th>
          <th>Busy</th>
          <th>Morning</th>
          <th>Afternoon</th>
          <th>Night</th>
        </tr>
      </thead>

      <tbody>
        @for (d of schedule; track d) {
        <tr
          [class.busy-day]="d.isBusy"
        >
          <td class="day-name">{{ d.dayName }}</td>

          <td class="date">{{ d.date }}</td>

          <!-- Work Day -->
          <td class="center">
            <input
              type="checkbox"
              [(ngModel)]="d.isWorkDay"
              (change)="saveToLocalStorage()"
            />
          </td>

          <!-- Busy Day -->
          <td class="center">
            <input
              type="checkbox"
              [(ngModel)]="d.isBusy"
              (change)="saveToLocalStorage()"
            />
          </td>

          <td>
            <input
              placeholder="Morning..."
              [(ngModel)]="d.morning"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>

          <td>
            <input
              placeholder="Afternoon..."
              [(ngModel)]="d.afternoon"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>

          <td>
            <input
              placeholder="Night..."
              [(ngModel)]="d.night"
              (ngModelChange)="saveToLocalStorage()"
            />
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>